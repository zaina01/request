plugins {
    id 'java'
    id 'maven-publish' // 应用maven-publish插件
}

group = 'com.open.request'
version = '1.1.3'
publishing {
    publications {
        myLibrary(MavenPublication) {
            groupId = 'com.open.request'
            artifactId = 'open-request' // 在这里指定自定义的artifactId
            version = '1.1.3'
            // 指定要发布由Java插件产生的Jar包等内容
            from components.java
            // 如需自定义artifactId，可在此处设置
            // artifactId = 'my-library'
        }
    }
    // （可选）配置仓库，但发布到本地仓库时通常可省略，因为publishToMavenLocal任务已内置本地仓库路径[7](@ref)
    repositories {
        mavenLocal() // 显式声明本地仓库
    }
}
repositories {
    mavenCentral()
}
//jar {
//    manifest {
//        attributes 'Main-Class': 'com.open.request.Main' // 请替换为您的实际主类
//    }
//}


dependencies {
    compileOnly "com.fasterxml.jackson.core:jackson-databind:2.19.2"
    compileOnly 'com.fasterxml.jackson.datatype:jackson-datatype-jsr310:2.19.2'
    compileOnly "com.alibaba.fastjson2:fastjson2:2.0.60"
    testImplementation platform('org.junit:junit-bom:5.10.0')
    testImplementation 'org.junit.jupiter:junit-jupiter'
}

test {
    useJUnitPlatform()
}